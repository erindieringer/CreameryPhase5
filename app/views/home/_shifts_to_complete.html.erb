 <% @incomplete_shifts = Shift.chronological.for_store(current_user.employee.current_assignment.store_id).past.incomplete.paginate(page: params[:page]).per_page(5) %>
<div id="shifts_to_complete"
  <% if @incomplete_shifts.nil? || @incomplete_shifts.empty? %>
    <p><em>There are no incomplete shifts at this time.</em></p>
  <% else %>
    <h3> Shifts to be completed</h3>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Employee</th>
          <th>Date</th>
          <th>&nbsp;</th>
        </tr>
      </thead>
      <tbody>
        <% @incomplete_shifts.each do |shift| %>
            <tr>
              <td><%= link_to shift.assignment.employee.name, employee_path(shift.assignment.employee) %></td>
              <td><%= shift.date.strftime("%m/%d/%y") %></td>
              
              <td>
              <%= link_to(new_shift_job_path(shift_id: @shift), id: 'new_shiftjob_link', class: 'button tiny radius warning', remote: true) do %>
                  Add Job
                <% end %>
              </td>
            </tr>
        <% end %>
      </tbody>
    </table>
    <%= will_paginate @incomplete_shifts, previous_label: "Previous&nbsp;", next_label: "&nbsp;Next" %>  
  <% end %>
  <p>&nbsp;</p
</div>